micronaut:
  application:
    name: my-pseudo-service
  server:
    port: 10210
    cors:
      enabled: true
    thread-selection: AUTO
    max-request-size: 2gb
    multipart:
      max-file-size: 2gb

  router:
    static-resources:
      swagger:
        paths: classpath:META-INF/swagger
        mapping: /api-docs/**
      swagger-ui:
        paths: classpath:META-INF/swagger/views/swagger-ui
        mapping: /api-docs/swagger-ui/**
      rapidoc:
        paths: classpath:META-INF/swagger/views/rapidoc
        mapping: /api-docs/rapidoc/**
      redoc:
        paths: classpath:META-INF/swagger/views/redoc
        mapping: /api-docs/redoc/**

  security:
    enabled: true
    intercept-url-map:
      - pattern: /**/swagger/**
        httpMethod: GET
        access:
          - isAnonymous()
      - pattern: /**/api-docs/**
        httpMethod: GET
        access:
          - isAnonymous()
    token:
      name-key: preferred_username
      jwt:
        signatures:
          jwks:
            keycloak-staging:
              url: 'https://keycloak.staging-bip-app.ssb.no/auth/realms/ssb/protocol/openid-connect/certs'

endpoints:
  info:
    enabled: true
    sensitive: false

logger:
  levels:
    io.micronaut.security: INFO
    no.ssb.dlp.pseudo.service: DEBUG

services:
  secrets:
    impl: LOCAL
    overrides:
      pseudo-secret-secret1: C5sn7B4YtwcilAwuVx6NuAsMWLusOSA/ldia40ZugDI=

export:
  default-target-root: gs://ssb-dev-dapla-data-synk-ned/export

storage:
  gcs-service-account-file: private/gcp/sa-keys/dev-dapla-pseudo-service-test-sa-key.json

pseudo.secrets:
  secret1:
    id: pseudo-secret-secret1
    type: AES256

app-roles:
  admins:
    - kons_schu@ssb.no

gcp:
  kms:
    master-kek: gcp-kms://projects/{PROJECT_ID}/locations/europe-north1/keyRings/{KEYRING_NAME}/cryptoKeys/{KEY_NAME}
